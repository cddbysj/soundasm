(this.webpackJsonpsoundgasm=this.webpackJsonpsoundgasm||[]).push([[0],{103:function(e,t,a){e.exports={cover:"Work_cover__3q4AU",script:"Work_script__2l54C",info:"Work_info__bHzz2",tag:"Work_tag__23HTW"}},153:function(e,t,a){e.exports={header:"AuthorProfile_header__1sDCS",bio:"AuthorProfile_bio__1kQOh",slidein:"AuthorProfile_slidein__2LAdf"}},247:function(e,t,a){e.exports=a(479)},260:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(9),c=a.n(l),o=(a(252),a(6)),s=a(5),i=a.n(s),u=a(11),m=a(21),p=a(18),E=a(246),d=a(27),h=a.n(d),f=(a(259),a(260),a(261),a(245)),g=(a(263),a(87)),b=(a(266),a(104)),y=a(74),O=a(493),v=a(492),A=a(486),_=a(487),w=a(483),k=(a(186),a(141)),I=(a(54),a(20)),S=a(488),F=(a(88),a(44)),j=a(56),T=(a(78),a(24)),R=T.a.Search,D=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),a=t[0],l=t[1];return n.a.createElement(F.a,{title:a},n.a.createElement(R,{placeholder:"\u8f93\u5165 RJ \u7f16\u53f7",style:{width:160},onSearch:function(e){console.log("rj",e);var t=e.toUpperCase();!function(e){if(8===e.length){var t=parseInt(e.slice(2));return!!e.startsWith("RT")||e.startsWith("RJ")&&t>=1e3&&t<=4e5}if(6===e.length){var a=parseInt(e);return a>=1e3&&a<=4e5}return!1}(t)?l("\u683c\u5f0f\uff1aRJ138503"):window.open("".concat("https://www.dlsite.com/maniax/work/=/product_id/").concat(t,".html"),"_blank")},allowClear:!0}))},C=function(){return n.a.createElement(k.a,{size:"middle"},n.a.createElement(m.b,{to:"/addWork"},n.a.createElement(I.a,{type:"dashed",icon:n.a.createElement(S.a,null)},"\u6dfb\u52a0\u4f5c\u54c1")),n.a.createElement(m.b,{to:"/addAuthor"},n.a.createElement(I.a,{type:"dashed",icon:n.a.createElement(S.a,null)},"\u6dfb\u52a0\u827a\u672f\u5bb6")),n.a.createElement(D,null))},x=(a(330),a(242)),L=(a(199),a(150)),U=(a(200),a(49)),W=(a(174),a(42)),N=a(3),P=(a(124),a(10)),H=(a(175),a(33)),M=a(85),K=a.n(M);a(480),a(340),a(342);K.a.initializeApp({apiKey:"AIzaSyBaj7axNAlxURzJKyk7ouCLQjQcFBqrLgg",authDomain:"soundgasm-886ff.firebaseapp.com",databaseURL:"https://soundgasm-886ff.firebaseio.com",projectId:"soundgasm-886ff",storageBucket:"soundgasm-886ff.appspot.com",messagingSenderId:"987949269498",appId:"1:987949269498:web:e7a749ba974731d2222443",measurementId:"G-M49309VSDC"});var G=K.a.auth(),V=K.a.firestore(),z=V.collection("works"),Y=V.collection("authors"),B=V.collection("tags"),q=V.collection("comments"),J=(K.a.firestore.FieldValue.delete,V.batch,K.a.storage().ref()),Q=K.a.storage,X=a(45),Z=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_AUTHORS",payload:{error:null}}),t.prev=1,r={},Array.isArray(e)?e.forEach((function(e){return r[e]=e})):r[e]=e,t.next=6,Y.doc("all").set(r,{merge:!0});case 6:a({type:"ADD_AUTHORS_DONE",payload:{newAuthors:r}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"ADD_AUTHORS_FAIL",payload:{error:t.t0}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},$=["English","Japanese","Chinese","Korean","Spanish","French"],ee=["ALL_AGE","R15","R18"],te=T.a.TextArea,ae=H.a.Option,re={labelCol:{span:6},wrapperCol:{span:12}},ne={wrapperCol:{offset:6,span:6}},le=$.map((function(e){return n.a.createElement(ae,{key:e},e)})),ce=Object(p.b)((function(e){return{tags:e.tags,authors:e.authors,works:e.works}}),{addTags:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_TAGS",payload:{error:null}}),t.prev=1,r={},e.forEach((function(e){return r[e]=e})),t.next=6,B.doc("all").set(r,{merge:!0});case 6:a({type:"ADD_TAGS_DONE",payload:{tags:r}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"ADD_TAGS_FAIL",payload:{error:t.t0}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},checkWorkExists:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r,n,l,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!1,n=[],l=e.rj,c=e.title,!l){t.next=17;break}return t.t0=Promise,t.next=7,z.where("rj","==",l).get();case 7:return t.t1=t.sent.empty,t.next=10,z.where("title","==",c).get();case 10:return t.t2=t.sent.empty,t.t3=[t.t1,t.t2],t.next=14,t.t0.all.call(t.t0,t.t3);case 14:n=t.sent,t.next=21;break;case 17:return t.next=19,z.where("title","==",c).get();case 19:t.t4=t.sent.empty,n=[t.t4];case 21:return n.forEach((function(e){e||(r=!0)})),a({type:"CHECK_WORK_EXISTS",payload:{exists:r}}),t.abrupt("return",r);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addWork:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_WORK",payload:{error:null,isOperating:!0}}),t.prev=1,r=z.doc(),n=Object(N.a)({},e,{id:r.id}),t.next=6,r.set(n);case 6:a({type:"ADD_WORK_DONE",payload:{work:n,isOperating:!1}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"ADD_WORK_FAIL",payload:{isOperating:!1,error:t.t0}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},updateWork:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_WORK",payload:{error:null,isOperating:!0}}),t.prev=1,console.log(e.id,e),t.next=5,z.doc(e.id).set(e,{merge:!0});case 5:a({type:"UPDATE_WORK_DONE",payload:{work:e,isOperating:!1}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"UPDATE_WORK_FAIL",payload:{error:t.t0,isOperating:!1}});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},addAuthors:Z})((function(e){var t=e.works,a=e.tags,l=e.addTags,c=e.checkWorkExists,o=e.addWork,s=e.updateWork,m=e.authors,p=e.addAuthors,E=P.a.useForm(),h=Object(j.a)(E,1)[0],f=Object(y.g)(),g=t.isOperating,b=a.tagItems,O=m.authorItems,v=!!f.state,A=Object(r.useState)(v?f.state.tags:[]),_=Object(j.a)(A,2),w=_[0],k=_[1],S=Object(r.useState)(v?f.state.author:[]),F=Object(j.a)(S,2),R=F[0],D=F[1],C=v?Object(N.a)({},f.state,{editAt:d(f.state.editAt,"YYYY-MM-DD hh:mm:ss"),info:f.state.info?f.state.info:null}):{title:"",author:[],rj:null,url:null,imageSrc:null,Illustrator:null,description:null,tags:[],rating:"R18",star:4,hasGot:!0,language:[],info:null,script:null,editAt:d()},M=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\u63d0\u4ea4\u7684\u8868\u683c\u6570\u636e",t),a=Object(N.a)({},t,{editAt:t.editAt.format("YYYY-MM-DD hh:mm:ss")}),!v){e.next=15;break}return r=f.state.id,e.prev=4,e.next=7,Promise.all([s(Object(N.a)({},a,{id:r})),l(w),p(R)]);case 7:W.a.success("\u66f4\u65b0\u4f5c\u54c1\u6210\u529f",1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),W.a.error("\u66f4\u65b0\u4f5c\u54c1\u5931\u8d25",2);case 13:e.next=31;break;case 15:return e.next=17,c(t);case 17:if(!e.sent){e.next=22;break}return W.a.warn("\u8be5\u4f5c\u54c1\u5df2\u5b58\u5728",2),h.resetFields(),e.abrupt("return");case 22:return e.prev=22,e.next=25,Promise.all([o(a),l(w),p(R)]);case 25:W.a.success("\u6dfb\u52a0\u4f5c\u54c1\u6210\u529f",1),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(22),W.a.error("\u6dfb\u52a0\u4f5c\u54c1\u5931\u8d25",2);case 31:h.resetFields();case 32:case"end":return e.stop()}}),e,null,[[4,10],[22,28]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(P.a,Object.assign({initialValues:C,onFinish:M,form:h},re),n.a.createElement(P.a.Item,{label:"\u6807\u9898",name:"title",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]},n.a.createElement(T.a,null)),n.a.createElement(P.a.Item,{label:"\u4f5c\u8005",name:"author",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f5c\u8005"}]},n.a.createElement(H.a,{mode:"tags",onChange:function(e){console.log("authors:",e),h.setFieldsValue({authors:e});var t=e.map((function(e){return e.trim()}));D(t)},tokenSeparators:["/","&"],loading:m.isFetching},Object.keys(O).map((function(e){return n.a.createElement(ae,{key:e},e)})))),n.a.createElement(P.a.Item,{label:"\u94fe\u63a5",name:"url"},n.a.createElement(T.a,null)),n.a.createElement(P.a.Item,{label:"\u5c01\u9762 URL",name:"imageSrc"},n.a.createElement(T.a,null)),n.a.createElement(P.a.Item,{label:"\u63d2\u753b\u5e08",name:"Illustrator"},n.a.createElement(T.a,null)),n.a.createElement(P.a.Item,{label:"RJ",name:"rj"},n.a.createElement(T.a,null)),n.a.createElement(P.a.Item,{label:"\u5e74\u9f84\u5206\u7ea7",name:"rating"},n.a.createElement(U.a.Group,null,n.a.createElement(U.a,{value:"ALL_AGE"},"\u5168\u5e74\u9f84"),n.a.createElement(U.a,{value:"R15"},"R15"),n.a.createElement(U.a,{value:"R18"},"R18"))),n.a.createElement(P.a.Item,{label:"\u63cf\u8ff0",name:"description"},n.a.createElement(te,{autoSize:!0})),n.a.createElement(P.a.Item,{label:"\u8bed\u8a00",name:"language",rules:[{required:!0,message:"\u8bf7\u6307\u5b9a\u4f5c\u54c1\u8bed\u8a00"}]},n.a.createElement(H.a,{mode:"tags",style:{width:"100%"}},le)),n.a.createElement(P.a.Item,{label:"\u6807\u7b7e",name:"tags"},n.a.createElement(H.a,{mode:"tags",style:{width:"100%"},onChange:function(e){console.log("tags:",e),h.setFieldsValue({tags:e});var t=e.map((function(e){return e.trim().toLowerCase()}));k(t)},loading:a.isFetching,tokenSeparators:["/","\\","\u3001","[","]"]},Object.keys(b).map((function(e){return n.a.createElement(ae,{key:e},e)})))),n.a.createElement(P.a.Item,{label:"\u662f\u5426\u62e5\u6709",name:"hasGot"},n.a.createElement(U.a.Group,null,n.a.createElement(U.a,{value:!0},"\u662f"),n.a.createElement(U.a,{value:!1},"\u5426"))),n.a.createElement(P.a.Item,{label:"\u6253\u5206",name:"star"},n.a.createElement(L.a,null)),n.a.createElement(P.a.Item,{label:"\u4fe1\u606f",name:"info"},n.a.createElement(te,{placeholder:"\u4f5c\u54c1\u76ee\u5f55\u3001\u65f6\u957f\u3001\u6765\u6e90\u7b49",autoSize:{minRows:2}})),n.a.createElement(P.a.Item,{label:"\u53f0\u672c",name:"script"},n.a.createElement(te,{placeholder:"\u6ca1\u6709\u53f0\u672c\u5219\u4e0d\u586b",autoSize:{minRows:2}})),n.a.createElement(P.a.Item,{label:"\u65f6\u95f4",name:"editAt"},n.a.createElement(x.a,{showTime:!0,onChange:function(e,t){console.log("selected value:",e),console.log("formatted value:",t),h.setFieldsValue({editAt:e})}})),n.a.createElement(P.a.Item,ne,n.a.createElement(I.a,{type:"primary",htmlType:"submit",loading:g,block:!0},v?"\u66f4\u65b0\u4f5c\u54c1":"\u65b0\u589e\u4f5c\u54c1")))})),oe=(a(131),a(48)),se=(a(123),a(64)),ie=(a(132),a(29)),ue=(a(109),a(41)),me=a(491),pe=(a(215),a(102)),Ee=(a(437),a(230)),de=function(e){var t=e.commentList;return n.a.createElement(pe.a,{dataSource:t,itemLayout:"horizontal",renderItem:function(e){return n.a.createElement(Ee.a,{author:e.author,content:e.content,datetime:n.a.createElement(F.a,{title:e.datetime},n.a.createElement("span",null,h()(e.datetime,"YYYY-MM-DD HH:mm:ss").fromNow()))})}})},he=T.a.TextArea,fe=function(e){var t=e.workId,a=e.author,r=e.commitComment,l=e.isSubmitting;return n.a.createElement(P.a,{name:"comment-editor",onFinish:function(e){var n=e.comment;console.log(n);var l={content:n,datetime:h()().format("YYYY-MM-DD HH:mm:ss"),author:a,workId:t};console.log("comment to commit:",l),r(l)}},n.a.createElement(P.a.Item,{name:"comment",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bc4\u8bba"},{whitespace:!0,message:"\u8bc4\u8bba\u4e0d\u80fd\u4e3a\u7a7a\u5b57\u7b26"}]},n.a.createElement(he,{autoSize:{minRows:2,maxRows:6},allowClear:!0})),n.a.createElement(P.a.Item,null,n.a.createElement(I.a,{htmlType:"submit",loading:l,type:"primary"},"\u53d1\u5e03\u8bc4\u8bba")))},ge=function(e){var t=Object.keys(e.commentItems).map((function(t){return e.commentItems[t]}));return Object(N.a)({},e,{commentItems:t})},be=Object(p.b)((function(e){var t=e.auth,a=e.comments;return{auth:t,comments:ge(a)}}),{addComment:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_COMMENT",payload:{error:null,isSubmitting:!0}}),t.prev=1,r=q.doc(),n=Object(N.a)({},e,{id:r.id}),t.next=6,r.set(n,{merge:!0});case 6:a({type:"ADD_COMMENT_DONE",payload:{error:null,isSubmitting:!1,newComment:n}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"ADD_COMMENT_FAILED",payload:{isSubmitting:!1,error:t.t0}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},fetchCommentsByWork:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_COMMENTS_BY_WORK",payload:{error:null,isFetching:!0}}),t.prev=1,r={},t.next=5,q.where("workId","==",e).get();case 5:t.sent.forEach((function(e){return r[e.id]=e.data()})),console.log("comments",r),a({type:"FETCH_COMMENTS_BY_WORK_DONE",payload:{error:null,isFetching:!1,comments:r}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"FETCH_COMMENTS_BY_WORK_FAILED",payload:{error:t.t0}});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.workId,a=e.auth,l=e.comments,c=e.addComment,o=e.fetchCommentsByWork,s=a.currentUser.email.split("@")[0];return Object(r.useEffect)((function(){o(t)}),[t,o]),n.a.createElement("div",null,n.a.createElement(de,{commentList:l.commentItems}),n.a.createElement(fe,{workId:t,author:s,commitComment:c,isSubmitting:l.isSubmitting}))})),ye=a(103),Oe=a.n(ye),ve=ue.a.Title,Ae=ue.a.Paragraph,_e=function(){var e=Object(y.g)().state;return n.a.createElement("div",null,n.a.createElement(oe.a,{gutter:[32,32],align:"middle"},n.a.createElement(ie.a,null,n.a.createElement("div",null,n.a.createElement("img",{className:Oe.a.cover,src:e.imageSrc||"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png",alt:e.title}))),n.a.createElement(ie.a,{flex:"450px"},n.a.createElement(ve,{level:3},e.title),n.a.createElement(Ae,null,"\u4f5c\u8005\uff1a",e.author.map((function(e){return n.a.createElement(se.a,{color:"purple",key:e,className:Oe.a.tag},e)}))),n.a.createElement(Ae,null,"\u5206\u7ea7\uff1a",e.rating),n.a.createElement(Ae,null,"\u8bed\u8a00\uff1a",e.language),n.a.createElement(Ae,null,"\u63cf\u8ff0\uff1a",e.description),n.a.createElement(Ae,null,"\u62e5\u6709\uff1a",e.hasGot?"\u662f":"\u5426"),n.a.createElement(Ae,null,"\u94fe\u63a5\uff1a",n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.url&&"\u8bbf\u95ee\u5916\u94fe")),n.a.createElement(Ae,null,"\u7f16\u53f7\uff1a",e.rj),n.a.createElement(Ae,null,"\u6807\u7b7e\uff1a",e.tags.map((function(e){return n.a.createElement(se.a,{key:e,color:"geekblue",className:Oe.a.tag},e)}))),n.a.createElement(Ae,null,"\u8bc4\u5206\uff1a ",n.a.createElement(L.a,{defaultValue:e.star})))),n.a.createElement(oe.a,{gutter:[32,32]},n.a.createElement(ie.a,{span:14},n.a.createElement(ve,{level:4},"\u53f0\u672c"),n.a.createElement(Ae,null,n.a.createElement("pre",{className:Oe.a.script},e.script))),n.a.createElement(ie.a,{span:10},n.a.createElement(oe.a,{gutter:[80,80]},n.a.createElement(ie.a,{span:24},n.a.createElement(ve,{level:4},"\u4fe1\u606f"),n.a.createElement(Ae,null,n.a.createElement("pre",{className:Oe.a.info},e.info)))),n.a.createElement(oe.a,null,n.a.createElement(ie.a,{span:24},n.a.createElement(ve,{level:4},"\u8bc4\u8bba"),n.a.createElement(be,{workId:e.id}))))),n.a.createElement(oe.a,{gutter:[32,32]},n.a.createElement(ie.a,{span:4},n.a.createElement(m.b,{to:{pathname:"/addWork",state:e}},n.a.createElement(me.a,null)," \u7f16\u8f91")),n.a.createElement(ie.a,{span:8},n.a.createElement("span",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",e.editAt))))},we=ue.a.Paragraph,ke=function(){return n.a.createElement("div",null,n.a.createElement(we,null,"\u8749\u9e23"),n.a.createElement(we,null,"\u6d77\u6d6a\u62cd\u6253\u6c99\u6ee9"),n.a.createElement(we,null,"\u98ce\u5439\u8fc7\u6811\u53f6\u6c99\u6c99\u4f5c\u54cd"),n.a.createElement(we,null,"\u96e8\u6ef4\u843d\u4e0b"),n.a.createElement(we,null,"\u6728\u5934\u71c3\u70e7\u65f6\u53d1\u51fa\u7684\u567c\u91cc\u556a\u5566\u58f0\u97f3"),n.a.createElement(we,null,"\u8239\u6868\u5212\u8fc7\u6c34\u9762\uff0c\u8361\u8d77\u6d9f\u6f2a\u53d1\u51fa\u7684\u58f0\u97f3"))},Ie=(a(133),a(62)),Se=H.a.Option,Fe=T.a.Search,je=Object(p.b)((function(e){return{tags:e.tags,authors:e.authors}}),{setVisibilityFilter:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_VISIBILITY_FILTER",payload:{filter:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.tags,a=e.authors,r=e.setVisibilityFilter,l=a.authorItems,c=t.tagItems,o=Object.keys(l),s=Object.keys(c);return n.a.createElement(k.a,{direction:"vertical",size:"large",style:{position:"fixed"}},n.a.createElement(H.a,{allowClear:!0,showSearch:!0,placeholder:"\u4f5c\u8005",style:{width:200},onChange:function(e){console.log("on change",e),r({author:e})},loading:l.isFetching},o.map((function(e){return n.a.createElement(Se,{key:e},e)}))),n.a.createElement(H.a,{allowClear:!0,showSearch:!0,placeholder:"\u6807\u7b7e",style:{width:200},onChange:function(e){console.log("on change",e),r({tag:e})},loading:c.isFetching},s.map((function(e){return n.a.createElement(Se,{key:e},e)}))),n.a.createElement(H.a,{allowClear:!0,showSearch:!0,placeholder:"\u8bed\u8a00",style:{width:200},onChange:function(e){r({language:e})}},$.map((function(e){return n.a.createElement(Se,{key:e},e)}))),n.a.createElement(H.a,{allowClear:!0,showSearch:!0,placeholder:"\u5e74\u9f84\u5206\u7ea7",style:{width:200},onChange:function(e){r({rating:e})}},ee.map((function(e){return n.a.createElement(Se,{key:e},e)}))),n.a.createElement(U.a.Group,{onChange:function(e){r({onlyShowWorksWithScript:e.target.value})},defaultValue:!1},n.a.createElement(U.a,{value:!0},"\u6709\u811a\u672c"),n.a.createElement(U.a,{value:!1},"\u5168\u90e8")),n.a.createElement(Fe,{placeholder:"RJ",onSearch:function(e){r({rj:e})},enterButton:!0,allowClear:!0}),n.a.createElement(Fe,{placeholder:"Title",onSearch:function(e){r({title:e})},enterButton:!0,allowClear:!0}),n.a.createElement(I.a,{onClick:function(){r({author:null,tag:null,language:null,rating:null,rj:null,title:null,onlyShowWorksWithScript:!1})}},"\u6e05\u7a7a\u8fc7\u6ee4"))})),Te=ue.a.Paragraph,Re=function(e){var t=e.items;return n.a.createElement(pe.a,{itemLayout:"vertical",style:{maxWidth:750},pagination:{defaultPageSize:50},dataSource:t,footer:n.a.createElement("div",null,"\u4e00\u5171 ",t.length," \u4e2a\u4f5c\u54c1"),renderItem:function(e){return n.a.createElement(pe.a.Item,{key:e.title,extra:n.a.createElement("img",{width:280,alt:"logo",src:e.imageSrc||"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png"})},n.a.createElement(pe.a.Item.Meta,{title:n.a.createElement(m.b,{to:{pathname:"/work",hash:"#".concat(e.title),state:e}},e.title),description:"".concat(e.language,"  ").concat(e.rating,"  ").concat(e.rj?e.rj:"")}),n.a.createElement("div",null,e.author.map((function(e){return n.a.createElement(m.b,{key:e,to:{pathname:"/authors",state:{author:e},hash:e},style:{margin:"0 4px 4px 0"}},e)})),n.a.createElement(Te,null,e.description),n.a.createElement("div",null,e.tags.map((function(e){return n.a.createElement(se.a,{className:"tag",key:e},e)})))))}})},De=function(e,t){console.count("getVisibleWorks");var a=e.items,r=t.author,n=t.tag,l=t.language,c=t.rating,o=t.rj,s=t.title,i=t.onlyShowWorksWithScript,u=a.filter((function(e){var t=!r||e.author.includes(r),a=!n||e.tags.map((function(e){return e.toLowerCase()})).includes(n.toLowerCase()),u=!l||e.language.includes(l),m=!c||e.rating===c,p=!o||e.rj&&e.rj.includes(o),E=!s||e.title.toLowerCase().includes(s.toLowerCase()),d=!i||e.script;return t&&a&&u&&m&&p&&E&&d}));return Object(N.a)({},e,{items:u})},Ce=Object(p.b)((function(e){var t=e.works,a=e.visibilityFilter;return{works:De(t,a),visibilityFilter:a}}))((function(e){var t=e.works,a=t.isFetching,r=t.items;return n.a.createElement(oe.a,{gutter:[32,32]},n.a.createElement(ie.a,{span:18},a&&n.a.createElement(Ie.a,{delay:1e3}),n.a.createElement(Re,{items:r})),n.a.createElement(ie.a,{span:6},n.a.createElement(je,null)))})),xe=(a(457),a(244)),Le=(a(213),a(148)),Ue=a(154),We=a(484),Ne=a(153),Pe=a.n(Ne),He=ue.a.Title,Me=ue.a.Text,Ke=ue.a.Paragraph,Ge=function(e){var t=e.profile;return Object(Ue.c)(t,(function(e){return e.name}),{from:{position:"absolute",opacity:0,transform:"translate3d(200px,0,0)"},enter:{opacity:1,transform:"translate3d(0,0,0)"},leave:{opacity:1,transform:"translate3d(0px,0,0)"},config:Ue.b.gentle}).map((function(e){e.item;var a=e.key,r=e.props;return n.a.createElement(Ue.a.div,{key:a,style:r,className:Pe.a.profile},n.a.createElement("div",{className:Pe.a.header},n.a.createElement(Le.a,{src:t.avatar,size:288}),n.a.createElement("div",{className:Pe.a.bio},n.a.createElement(He,null,t.name),n.a.createElement(Me,{type:"secondary"},t.bio),n.a.createElement("span",null,t.url&&n.a.createElement("a",{href:t.url},n.a.createElement(We.a,null)," \u5979\u7684\u4e3b\u9875")))),n.a.createElement(Ke,{title:"\u95ee\u5019"},t.greetings),n.a.createElement(Ke,{title:"\u8bc4\u4ef7"},n.a.createElement("pre",null,t.evaluation)),n.a.createElement(m.b,{to:{pathname:"/addAuthor",state:t}},n.a.createElement(me.a,null)," \u7f16\u8f91"))}))},Ve=Object(p.b)((function(e){return{authors:e.authors,authorProfile:e.authorProfile}}))((function(e){var t=e.authors,a=e.authorProfile,l=Object(y.f)(),c=t.authorItems,o=a.profiles,s=Object(r.useState)(l.location.state&&l.location.state.author||""),i=Object(j.a)(s,2),u=i[0],m=i[1],p=Object.keys(c),E=o&&o[u];return n.a.createElement(oe.a,{gutter:[48,48]},n.a.createElement(ie.a,{span:16},a.isfetching&&n.a.createElement(Ie.a,null),E?n.a.createElement(Ge,{profile:E}):n.a.createElement(xe.a,{avatar:!0},n.a.createElement(Le.a,{icon:n.a.createElement(A.a,null)}),n.a.createElement("div",null,"\u8fd9\u4f4d\u827a\u672f\u5bb6\u8fd8\u6ca1\u6709\u6863\u6848^_^"))),n.a.createElement(ie.a,{span:8},t.isfetching&&n.a.createElement(Ie.a,null),p.map((function(e){return n.a.createElement(I.a,{key:e,shape:"round",onClick:function(){return m(e)}},e)}))))})),ze=Object(p.b)((function(e){return{tags:e.tags}}))((function(e){var t=e.tags,a=(e.fetchTags,t.isFetching),r=t.tagItems;return n.a.createElement("div",null,n.a.createElement("div",null,a&&n.a.createElement(Ie.a,{size:"large",delay:500})),n.a.createElement("div",null,Object.keys(r).map((function(e){return n.a.createElement(se.a,{color:"geekblue",style:{margin:6},key:e},e)}))))})),Ye=ue.a.Paragraph,Be=ue.a.Title,qe=function(){return n.a.createElement(oe.a,null,n.a.createElement(ie.a,{span:18,offset:3},n.a.createElement(Be,{level:4},"What is ASMR"),n.a.createElement(Ye,null,"ASMR \u7684\u5168\u79f0\u662f Autonomous Sensory Meridian Response. \u603b\u4f53\u6765\u8bb2\uff0c\u5c31\u662f\u8ba9\u4f60\u611f\u5230\u8eab\u5fc3\u6109\u60a6\u7684\u58f0\u97f3\u3002\u6bd4\u5982\u8f7b\u67d4\u7684\u8033\u8bed\uff0c\u897f\u85cf\u94b5\u53d1\u51fa\u7684\u7ef5\u957f\u60a0\u8fdc\u7684\u58f0\u97f3\uff0c\u82a6\u835f\u80f6\u7684\u58f0\u97f3\uff0c\u8df3\u8df3\u7cd6\u7684\u58f0\u97f3\uff0c\u8214\u8033\u65f6\u820c\u82d4\u6469\u64e6\u8033\u5ed3\u7684\u58f0\u97f3\uff0c\u6d77\u6d6a\u62cd\u6253\u6c99\u6ee9\u7684\u58f0\u97f3\u3002"),n.a.createElement(Be,{level:4},"What is Gone Wild Audio"),n.a.createElement(Ye,null,"\u901a\u5e38\u7528\u6765\u6307\u4ee3\u8f6f\u8272\u60c5\u7684\u82f1\u6587\u97f3\u9891\u3002\u5176\u4e2d\u6709\u4e00\u4e9b\u7531\u7f51\u53cb\u7ea6\u5b9a\u4fd7\u6210\u7684\u6807\u7b7e\uff0c\u5b83\u4eec\u7684\u5927\u6982\u610f\u601d\u5982\u4e0b\uff1a"),n.a.createElement(Ye,null,"F4M: female for male \u4f5c\u8005\u662f\u5973\u6027\uff0c\u76ee\u6807\u89c2\u4f17\u662f\u7537\u6027"),n.a.createElement(Ye,null,"F4A: female for all \u4f5c\u8005\u662f\u5973\u6027\uff0c\u76ee\u6807\u89c2\u4f17\u662f\u7537\u6027\u6216\u5973\u6027"),n.a.createElement(Ye,null,"HFO: hand free orgasm"),n.a.createElement(Ye,null,"Fdom: \u8c03\u6559"),n.a.createElement(Be,{level:4},"\u97f3\u9891\u6765\u6e90\u4e8e\u54ea\u4e9b\u5e73\u53f0"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://www.youtube.com/"},"Youtube")," \u4e0a\u9762\u6709\u975e\u5e38\u591a\u7684 ASMR \u5185\u5bb9\u7684\u89c6\u9891\uff0c\u8bed\u8a00\u4ee5\u82f1\u6587\u4e3a\u4e3b\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://www.reddit.com/"},"Reddit")," ","\u4e00\u4e2a\u795e\u5947\u7684\u7f51\u7ad9\uff0c\u91cc\u9762\u6709\u4e0d\u8ba1\u5176\u6570\u7684\u4e3b\u9898\uff0c\u6db5\u76d6\u4e86\u5e7f\u6cdb\u7684\u4fe1\u606f\u5206\u652f\u548c\u5174\u8da3\u3002\u5176\u4e2d\u7684 GoneWildAudio \u662f\u6307\u8f6f\u8272\u60c5\u97f3\u9891\uff0c\u8fd9\u91cc\u662f\u4e0d\u5c11\u97f3\u9891\u7684\u53d1\u6e90\u5730\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://soundgasm.net/"},"Soundgasm")," ","\u4e00\u4e2a\u97f3\u9891\u6258\u7ba1\u7f51\u7ad9\uff0c\u4e0a\u9762\u63d0\u5230\u7684 GoneWildAudio \u97f3\u9891\u57fa\u672c\u90fd\u6258\u7ba1\u5728\u8fd9\u4e2a\u7f51\u7ad9\u4e0a\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://pastebin.com/"},"Pastebin"),' \u4e0d\u5c11 GoneWildAudio \u7684\u811a\u672c\u90fd\u4fdd\u5b58\u5728\u8fd9\u4e2a\u7f51\u7ad9\u4e0a\u3002\u4f7f\u7528\u97f3\u9891\u7684\u540d\u5b57\u52a0\u4e0a "site:pastebin" \u5728 Google \u4e0a\u641c\u7d22\uff0c\u5c31\u53ef\u80fd\u83b7\u5f97\u67d0\u4e2a\u97f3\u9891\u7684\u811a\u672c\u3002'),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://www.tryquinn.com/"},"quinn")," Snap \u521b\u59cb\u4eba\u7684\u59b9\u59b9\u521b\u5efa\u4e00\u4e2a\u8272\u60c5\u97f3\u9891\u7f51\u7ad9\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://audiomack.com/"},"Audio Mack"),"Audiomack \u662f\u56fd\u5916\u4e00\u6b3e\u5206\u4eab\u82f1\u6587\u7535\u5b50\u97f3\u4e50\u7684\u97f3\u4e50\u7f51\u7ad9\uff0c\u5176\u9488\u5bf9\u7684\u662f\u82f1\u6587\u6b4c\u66f2\u800c\u5e76\u975e\u662f\u56fd\u5185\u7684\uff0c\u4e5f\u7b97\u662f\u5c0f\u4f17\u7c7b\u578b\u3002 \u4f46\u662f Audiomack \u62e5\u6709\u65e0\u9650\u5236\u4e0a\u4f20\u5206\u4eab\u529f\u80fd\uff0c\u4e5f\u4e3a Audiomack \u6dfb\u52a0\u4e86\u65e0\u9650\u7684\u53ef\u80fd\u3002\u6ca1\u9519\uff0c\u53ea\u8981\u662f\u4f60\u62e5\u6709\u7684\u97f3\u9891\u8d44\u6e90\uff0c\u5747\u53ef\u4ee5\u65e0\u9650\u5236\u5206\u4eab\u4e0a\u53bb\uff0c\u800c\u4e14 Audiomack \u4e5f\u5e76\u6ca1\u6709\u8bf8\u5982\u56fd\u5185\u7684\u4e25\u82db\u5ba1\u6838\u4ee5\u53ca\u7248\u6743\u9650\u5236\uff0c\u56e0\u6b64 Audiomack \u7684\u81ea\u7531\u4e5f\u4f7f\u5f97\u5176\u5185\u6db5\u5341\u8db3\u3002 \u800c\u5f53 Audiomack \u88ab\u4e2d\u56fd\u4eba\u53d1\u73b0\uff0c\u5728 Audiomack \u8fd9\u4e2a\u8fd8\u6ca1\u6709\u88ab\u548c\u8c10\u7684\u5e73\u53f0\u4e0b\uff0c\u56fd\u4eba\u8d4b\u4e88\u4e86\u5b83\u65b0\u7684\u751f\u547d \u6ca1\u9519\uff0c\u5468\u6770\u4f26\u7684\u6240\u6709\u6b4c\u66f2\uff0c\u5747\u53ef\u4ee5\u5728\u91cc\u9762\u641c\u7d22\u5230\uff0c\u5e76\u4e14\u5728\u7ebf\u6536\u542c\u548c\u4e0b\u8f7d\uff0c\u4e00\u4e9b\u56fd\u5185\u7248\u6743\u6b4c\u66f2\uff0c\u540c\u6837\u4e5f\u88ab\u4e2d\u56fd\u7f51\u53cb\u7ed9\u4e0a\u4f20\u8fdb\u53bb\u3002 \u5f00\u8f66\u662f\u56fd\u4eba\u7684\u7cbe\u795e\uff0c\u56e0\u6b64\u4ec0\u4e48 18 \u7981\u7684\u97f3\u58f0\u3001\u6b65\u975e\u70df\u3001ASMR \u7b49\u7b49\u5f00\u8f66\u97f3\u9891\u8d44\u6e90\uff0c\u53ea\u8981\u6709\u4eba\u4e0a\u4f20\u8fc7\uff0c\u4f60\u5747\u53ef\u4ee5\u5728\u91cc\u9762\u641c\u7d22\u5230\uff0c\u5e76\u4e14\u65e0\u9650\u5236\u6536\u542c\u3002 \u5f53\u7136\uff0c\u600e\u4e48\u627e\u8fd9\u4e9b\u8d44\u6e90\uff0c\u662f\u9700\u8981\u4e00\u4e9b\u60f3\u8c61\u529b\u548c\u5173\u952e\u5b57\u50a8\u5907\u7684\uff0c\u5e76\u4e0d\u56f0\u96be\u3002"),n.a.createElement(Be,{level:4},"\u56fd\u5185\u8d44\u6e90\u7f51\u7ad9"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://18asmr.org/"},"18ASMR")," ","\u8d44\u6e90\u8d28\u91cf\u8fd8\u4e0d\u9519\uff0c\u7f51\u7ad9\u4e3b\u4eba\u770b\u6765\u4e5f\u662f\u4e2a ASMR \u7231\u597d\u8005\u3002\u7ecf\u5e38\u7b7e\u5230\u53ef\u4ee5\u83b7\u53d6\u90e8\u5206\u8d44\u6e90\uff0c\u67d0\u4e9b\u798f\u5229\u8d44\u6e90\u9700\u8981\u5145\u503c\u6210\u5e74\u5ea6\u4f1a\u5458\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://eatasmr.com/"},"eatasmr")," ","\u8fd9\u4e2a\u662f\u505a\u7684\u6bd4\u8f83\u7528\u5fc3\u7684\u4e00\u4e2a\u7f51\u7ad9\uff0c\u6536\u8d39\u4e0a\u975e\u5e38\u514b\u5236\u3002\u7b7e\u5230\u3001\u81ea\u5df1\u4e0a\u4f20\u8d44\u6e90\u53ef\u4ee5\u83b7\u5f97\u79ef\u5206\uff0c\u79ef\u5206\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u8d44\u6e90\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://www.macgn.com/"},"\u840c\u7ad9")," \u4e00\u4e2a ACG \u4ea4\u6d41\u5206\u4eab\u5e73\u53f0\uff0c\u5305\u62ec\u6e38\u620f\u3001\u6f2b\u753b\u3001\u52a8\u753b\u3001\u97f3\u58f0\u3001\u7535\u5f71\u3001\u8f7b\u5c0f\u8bf4\u7b49\u3002\u7b7e\u5230\u53ef\u4ee5\u83b7\u5f97\u79ef\u5206\uff0c\u79ef\u5206\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u8d44\u6e90\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://www.missahri.com/"},"missahri")," ","\u8fd9\u4e2a\u7f51\u7ad9\u4e00\u822c\uff0c\u4ec5\u4f5c\u5907\u7528\u3002\u4e00\u662f\u56e0\u4e3a\u5927\u90e8\u5206\u8d44\u6e90\u662f\u56fd\u5185\u4e3b\u64ad\u5356\u8089\u7684\u6240\u8c13\u798f\u5229\u89c6\u9891\uff0c\u5176\u8d28\u91cf\u5176\u5b9e\u5f88\u4f4e\uff1b\u4e8c\u662f\u8fd9\u4e2a\u7f51\u7ad9\u5927\u90e8\u5206\u8d44\u6e90\u90fd\u662f\u6536\u8d39\u7684\uff0c\u5176\u5b9e\u5f88\u591a\u8d44\u6e90\u5728\u5176\u4ed6\u5730\u65b9\u90fd\u53ef\u4ee5\u514d\u8d39\u83b7\u53d6\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://www.okfree.men/"},"\u81ea\u7531\u7537\u4eba\u7f51\u7edc\u786c\u76d8")," ","\u56fd\u5185\u5927\u90e8\u5206\u97f3\u58f0\u8d44\u6e90\u5728\u8fd9\u4e2a\u7f51\u76d8\u90fd\u53ef\u4ee5\u627e\u5230\uff0c\u6bd4\u5982\u6b65\u975e\u70df\u5de5\u4f5c\u5ba4\u7684\u5927\u90e8\u5206\u4f5c\u54c1\u3002"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"http://www.xrmoo.com/"},"\u95f2\u4eba\u5427")," \u8001\u53f8\u673a\u6559\u4f60\u5982\u4f55\u5f00\u8f66\u3002"),n.a.createElement(Be,{level:4},"\u91ce\u5916\u8d44\u6e90\u5e38\u89c1\u7684\u5bc6\u7801\u96c6\u9526"),n.a.createElement(Ye,{copyable:!0},"bdtrysb"),n.a.createElement(Ye,{copyable:!0},"gmgard.us"),n.a.createElement(Ye,{copyable:!0},"eatasmr.com"),n.a.createElement(Ye,{copyable:!0},"missahri.live"),n.a.createElement(Ye,{copyable:!0},"18asmr.com"),n.a.createElement(Ye,{copyable:!0},"asmr18.com"),n.a.createElement(Ye,{copyable:!0},"18asmr.org"),n.a.createElement(Be,{level:4},"\u6b65\u975e\u70df\u7b2c\u4e00\u5b63 \u4f5c\u54c1\u76ee\u5f55"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://www.missahri.com/audio/12137/"},"\u6b65\u975e\u70df\u7b2c\u4e00\u5b63\u5168\u90e8224\u671fASMR\u4e2d\u6587\u97f3\u58f0")),n.a.createElement(Be,{level:4},"\u6b65\u975e\u70df\u5c0f\u5c0f\u7684\u83dc\u5355 \u4f5c\u54c1\u76ee\u5f55"),n.a.createElement(Ye,null,"\u7a7a\u7f3a\uff0c\u5df2\u627e\u5230\u76ee\u5f55\uff0c\u4f46\u662f\u61d2\u5f97\u6574\u7406\u4e86\u3002"),n.a.createElement(Be,{level:4},"Gone Wild Audio \u811a\u672c\u4f5c\u8005"),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://pastebin.com/u/Zerahmot"},"Zerahmot's Pastebin")),n.a.createElement(Ye,null,n.a.createElement("a",{href:"https://pastebin.com/u/RamblingKnight"},"RamblingKnight's Pastebin"))))},Je=(a(481),a(243)),Qe=a(490),Xe=T.a.TextArea,Ze={labelCol:{span:6},wrapperCol:{span:12}},$e={wrapperCol:{span:12,offset:6}},et={name:null,bio:null,url:null,greetings:null,evaluation:null,coverFlow:[],representativeWorks:[]},tt=Object(p.b)((function(e){return{authorProfile:e.authorProfile}}),{addAuthorProfile:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_AUTHOR_PROFILE",payload:{error:null}}),t.prev=1,t.next=4,Y.doc("".concat(e.name)).set(e,{merge:!0});case 4:a({type:"ADD_AUTHOR_PROFILE_DONE",payload:{error:null,profile:e}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"ADD_AUTHOR_PROFILE_FAIL",payload:{error:t.t0}});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},addAuthors:Z,uploadAvatar:function(e){var t=e.file,a=e.onProgress,r=e.onError,n=e.onSuccess;return(function(){var e=Object(u.a)(i.a.mark((function e(l){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={contentType:"image/jpeg"},(o=J.child("images/"+t.name).put(t,c)).on(Q.TaskEvent.STATE_CHANGED,(function(e){var r=e.bytesTransferred/e.totalBytes*100;switch(a({precent:r},t),console.log("Upload is "+r+"% done"),e.state){case Q.TaskState.PAUSED:console.log("Upload is paused");break;case Q.TaskState.RUNNING:console.log("Upload is running"),l({type:"UPLOAD_AVATAR",payload:{progress:r}});break;default:return void l({type:"UPLOAD_AVATAR",payload:{progress:r}})}}),(function(e){switch(e.code){case"storage/unauthorized":l({type:"UPLOAD_AVATAR_FAIL",payload:{error:"\u5b58\u50a8\u9519\u8bef\uff1a\u672a\u83b7\u5f97\u6388\u6743"}});break;case"storage/canceled":l({type:"UPLOAD_AVATAR_FAIL",payload:{error:"\u5b58\u50a8\u9519\u8bef\uff1a\u4e0a\u4f20\u88ab\u53d6\u6d88"}});break;case"storage/unknown":l({type:"UPLOAD_AVATAR_FAIL",payload:{error:"\u5b58\u50a8\u9519\u8bef\uff1a\u672a\u77e5"}});break;default:return r(e),void l({type:"UPLOAD_AVATAR_FAIL",payload:{error:"\u5b58\u50a8\u9519\u8bef\uff1a".concat(e.code)}})}}),(function(){o.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),n({downloadURL:e},t),l({type:"UPLOAD_AVATAR_DONE",payload:{error:null,downloadURL:e}})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})((function(e){var t=e.addAuthorProfile,a=e.addAuthors,r=e.uploadAvatar,l=e.authorProfile.downloadURL,c=Object(y.g)(),o=P.a.useForm(),s=Object(j.a)(o,1)[0],m=!!c.state;m&&s.setFieldsValue(c.state);var p=function(){var e=Object(u.a)(i.a.mark((function e(r){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("form data:",r),n=l||(m?c.state.avatar:null),o=Object(N.a)({},r,{avatar:n}),console.log("profileData",o),e.next=6,Promise.all([t(o),a(r.name)]);case 6:W.a.success(m?"\u66f4\u65b0\u4f5c\u8005\u6210\u529f":"\u6dfb\u52a0\u4f5c\u8005\u6210\u529f",1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.onProgress,n=t.onError,l=t.onSuccess,t.data,t.filename,c=t.file,t.withCredentials,t.action,t.headers,console.log("file",c),e.prev=2,e.next=5,r({file:c,onProgress:a,onError:n,onSuccess:l});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(P.a,Object.assign({},Ze,{initialValues:et,form:s,onFinish:p}),n.a.createElement(P.a.Item,{name:"name",label:"\u540d\u5b57",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u5b57"}]},n.a.createElement(T.a,null)),n.a.createElement(P.a.Item,{label:"\u4e0a\u4f20",valuePropName:"fileList"},n.a.createElement(Je.a,{headers:{authorization:"authorization-text"},customRequest:E,beforeUpload:function(){},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?W.a.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f")):"error"===e.file.status&&W.a.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25."))}},n.a.createElement(I.a,null,n.a.createElement(Qe.a,null)," \u70b9\u51fb\u4e0a\u4f20"))),n.a.createElement(P.a.Item,{name:"url",label:"\u94fe\u63a5"},n.a.createElement(T.a,null)),n.a.createElement(P.a.Item,{name:"greetings",label:"\u95ee\u5019"},n.a.createElement(Xe,{autoSize:{minRows:2,maxRows:5}})),n.a.createElement(P.a.Item,{name:"evaluation",label:"\u8bc4\u4ef7"},n.a.createElement(Xe,{autoSize:{minRows:2}})),n.a.createElement(P.a.Item,$e,n.a.createElement(I.a,{htmlType:"submit",type:"primary",style:{width:"50%"}},m?"\u66f4\u65b0\u4f5c\u8005":"\u6dfb\u52a0\u4f5c\u8005"),n.a.createElement(I.a,{htmlType:"reset",onClick:function(){s.resetFields()},style:{width:"50%"}},"\u91cd\u7f6e"))))})),at=a(489),rt=a(482),nt=Object(p.b)((function(e){return{auth:e.auth}}),{signIn:function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(r){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:"SIGN_IN",payload:{error:null}}),a.prev=1,a.next=4,G.signInWithEmailAndPassword(e,t);case 4:r({type:"SIGN_IN_DONE",payload:{error:null}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),r({type:"SIGN_IN_FAILED",payload:{error:a.t0}});case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.signIn,a=e.auth,r=Object(y.f)(),l=function(){var e=Object(u.a)(i.a.mark((function e(a){var n,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.email,l=a.password,e.prev=1,e.next=4,t(n,l);case 4:W.a.success("\u6b22\u8fce\u60a8"),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),W.a.error("\u767b\u5f55\u5931\u8d25",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},n.a.createElement(P.a,{name:"sign-in",size:"large",onFinish:l,onFinishFailed:function(e){W.a.error("\u767b\u5f55\u5931\u8d25",e)},style:{width:400}},n.a.createElement(P.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email"}]},n.a.createElement(T.a,{prefix:n.a.createElement(at.a,null),placeholder:"Email"})),n.a.createElement(P.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password"}]},n.a.createElement(T.a.Password,{prefix:n.a.createElement(rt.a,null)})),n.a.createElement(P.a.Item,null,n.a.createElement(I.a,{type:"primary",htmlType:"submit",loading:!a,block:!0},"Submit"))))})),lt=a(485),ct=Object(p.b)(null,{signOut:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SIGN_OUT",payload:{error:null}}),e.prev=1,e.next=4,G.signOut();case 4:t({type:"SIGN_OUT_DONE",payload:{error:null}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t({type:"SIGN_OUT_FAILED",payload:{error:e.t0}});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.signOut;return n.a.createElement(I.a,{size:"small",type:"link",onClick:function(){t()},icon:n.a.createElement(lt.a,null)},"\u767b\u51fa")})),ot=b.a.Header,st=b.a.Sider,it=b.a.Content,ut=Object(p.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth.currentUser;e.works,e.fetchWorks;return t?n.a.createElement(b.a,null,n.a.createElement(st,{theme:"light",style:{minHeight:"100vh"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"column",font:"2em fantasy",letterSpacing:4,margin:8,padding:"0 16px"}},n.a.createElement("span",null,"Sound"),n.a.createElement("span",null,"Asmr")),n.a.createElement(g.a,{mode:"inline",defaultSelectedKeys:["home"]},n.a.createElement(g.a.Item,{key:"home"},n.a.createElement(m.b,{to:"/"},n.a.createElement(O.a,null),n.a.createElement("span",null,"\u4e3b\u9875"))),n.a.createElement(g.a.Item,{key:"works"},n.a.createElement(m.b,{to:"/works"},n.a.createElement(v.a,null),n.a.createElement("span",null,"\u4f5c\u54c1"))),n.a.createElement(g.a.Item,{key:"authors"},n.a.createElement(m.b,{to:"/authors"},n.a.createElement(A.a,null),n.a.createElement("span",null,"\u827a\u672f\u5bb6"))),n.a.createElement(g.a.Item,{key:"tags"},n.a.createElement(m.b,{to:"/tags"},n.a.createElement(_.a,null),n.a.createElement("span",null,"\u6807\u7b7e"))),n.a.createElement(g.a.Item,{key:"faq"},n.a.createElement(m.b,{to:"/faq"},n.a.createElement(w.a,null),n.a.createElement("span",null,"FAQ"))))),n.a.createElement(b.a,null,n.a.createElement(ot,{style:{background:"white",display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement(C,null),t?n.a.createElement(ct,null):null),n.a.createElement(it,{style:{padding:16,background:"white"}},n.a.createElement(y.c,null,n.a.createElement(y.a,{path:"/",exact:!0},n.a.createElement(ke,null)),n.a.createElement(y.a,{path:"/addWork"},n.a.createElement(ce,null)),n.a.createElement(y.a,{path:"/addAuthor"},n.a.createElement(tt,null)),n.a.createElement(y.a,{path:"/works"},n.a.createElement(Ce,null)),n.a.createElement(y.a,{path:"/authors"},n.a.createElement(Ve,null)),n.a.createElement(y.a,{path:"/tags"},n.a.createElement(ze,null)),n.a.createElement(y.a,{path:"/faq"},n.a.createElement(qe,null)),n.a.createElement(y.a,{path:"/work"},n.a.createElement(_e,null))))),n.a.createElement(f.a,null)):n.a.createElement(nt,null)}));h.a.locale("zh-cn");var mt=Object(p.b)((function(e){return{auth:e.auth}}),{setCurrentUser:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=G.onAuthStateChanged((function(e){t(e?{type:"SET_CURRENT_USER",payload:{currentUser:{email:e.email,uid:e.uid}}}:{type:"CLEAR_CURRENT_USER",payload:{currentUser:null}})})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchWorks:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WORKS",payload:{isFetching:!0,error:null}}),e.prev=1,e.next=4,z.orderBy("editAt","desc").get();case 4:a=e.sent,r=a.docs.map((function(e){return Object(N.a)({},e.data(),{id:e.id})})),t({type:"FETCH_WORKS_DONE",payload:{isFetching:!1,error:null,items:r}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"FETCH_WORKS_FAIL",payload:{isFetching:!1,error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},fetchAuthors:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_AUTHORS",payload:{isFetching:!0,error:null,authorItems:{}}}),e.prev=1,e.next=4,Y.doc("all").get();case 4:a=e.sent,r=a.data(),t({type:"FETCH_AUTHORS_DONE",payload:{isFetching:!1,error:null,authorItems:r}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"FETCH_AUTHORS_FAIL",payload:{isFetching:!1,error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},fetchTags:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_TAGS",payload:{isFetching:!0,error:null}}),e.prev=1,e.next=4,B.doc("all").get();case 4:a=e.sent,r=a.data(),t({type:"FETCH_TAGS_DONE",payload:{isFetching:!1,error:null,tagItems:r}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"FETCH_TAGS_FAIL",payload:{isFetching:!1,error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},fetchAuthorProfiles:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_AUTHOR_PROFILES",payload:{isFetching:!0,error:null}}),e.prev=1,e.next=4,Y.get();case 4:a=e.sent,r={},a.forEach((function(e){var t=e.data().name||"all";r[t]=e.data()})),t({type:"FETCH_AUTHOR_PROFILES_DONE",payload:{isFetching:!1,error:null,profiles:r}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"FETCH_AUTHOR_PROFILES_FAIL",payload:{isFetching:!1,error:e.t0}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setCurrentUser,a=e.fetchWorks,l=e.fetchAuthors,c=e.fetchTags,s=e.fetchAuthorProfiles;return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(r.useEffect)((function(){a()}),[a]),Object(r.useEffect)((function(){l()}),[l]),Object(r.useEffect)((function(){c()}),[c]),Object(r.useEffect)((function(){s()}),[s]),n.a.createElement(o.b,{locale:E.a},n.a.createElement(m.a,{basename:"/soundasm"},n.a.createElement(ut,null)))})),pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Et(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var dt=a(73),ht=a(241),ft={currentUser:null},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=void 0===r?{}:r,l=n.currentUser;switch(a){case"SET_CURRENT_USER":case"CLEAR_CURRENT_USER":return Object(N.a)({},e,{currentUser:l});default:return e}},bt=a(76),yt={error:null,isFetching:!1,items:[],allWorksLoaded:!1,isOperating:!1},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=void 0===r?{}:r,l=n.error,c=n.isFetching,o=n.items,s=n.isOperating,i=n.work,u=n.exists,m=n.allWorksLoaded;switch(a){case"FETCH_WORKS_FAIL":return Object(N.a)({},e,{isFetching:c,error:l});case"FETCH_WORKS_DONE":return Object(N.a)({},e,{isFetching:c,items:o});case"FETCH_WORKS":return Object(N.a)({},e,{isFetching:c});case"CHECK_WORK_EXISTS":return Object(N.a)({},e,{exists:u});case"ALL_WORKS_LOADED":return Object(N.a)({},e,{allWorksLoaded:m});case"ADD_WORK":return Object(N.a)({},e,{isOperating:s});case"ADD_WORK_FAIL":return Object(N.a)({},e,{error:l,isOperating:s});case"ADD_WORK_DONE":return Object(N.a)({},e,{items:[i].concat(Object(bt.a)(e.items)),error:l,isOperating:s});case"UPDATE_WORK":case"UPDATE_WORK_FAIL":return Object(N.a)({},e,{error:l,isOperating:s});case"UPDATE_WORK_DONE":return Object(N.a)({},e,{items:Object(bt.a)(e.items.map((function(e){return e.id===i.id?i:e}))),isOperating:s});default:return e}},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,error:null,tagItems:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=void 0===r?{}:r,l=n.isFetching,c=n.error,o=n.tagItems,s=n.tags;switch(a){case"FETCH_TAGS":return Object(N.a)({},e,{isFetching:l});case"FETCH_TAGS_DONE":return Object(N.a)({},e,{isFetching:l,tagItems:o});case"FETCH_TAGS_FAIL":return Object(N.a)({},e,{isFetching:l,error:c});case"ADD_TAGS":return Object(N.a)({},e,{error:c});case"ADD_TAGS_DONE":return Object(N.a)({},e,{tagItems:Object(N.a)({},e.tagItems,{},s),error:c});case"ADD_TAGS_FAIL":return Object(N.a)({},e,{error:c});default:return e}},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,error:null,authorItems:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=void 0===r?{}:r,l=n.isFetching,c=n.error,o=n.newAuthors,s=n.authorItems;switch(a){case"FETCH_AUTHORS":case"FETCH_AUTHORS_FAIL":return Object(N.a)({},e,{isFetching:l,error:c});case"FETCH_AUTHORS_DONE":return Object(N.a)({},e,{isFetching:l,error:c,authorItems:s});case"ADD_AUTHORS":return Object(N.a)({},e,{error:c});case"ADD_AUTHORS_DONE":return Object(N.a)({},e,{authorItems:Object(N.a)({},e.authorItems,{},o),error:c});case"ADD_AUTHORS_FAIL":return Object(N.a)({},e,{error:c});default:return e}},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,error:null,profile:null,profiles:null},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=void 0===r?{}:r,l=n.error,c=n.profile,o=n.profiles,s=n.isFetching,i=n.downloadURL,u=n.progress;switch(a){case"ADD_AUTHOR_PROFILE":return Object(N.a)({},e);case"ADD_AUTHOR_PROFILE_FAIL":return Object(N.a)({},e,{error:l});case"ADD_AUTHOR_PROFILE_DONE":return Object(N.a)({},e,{profiles:Object(N.a)({},e.profiles,Object(X.a)({},c.name,c))});case"FETCH_AUTHOR_PROFILES":return Object(N.a)({},e,{isFetching:s});case"FETCH_AUTHOR_PROFILES_FAIL":return Object(N.a)({},e,{isFetching:s,error:l});case"FETCH_AUTHOR_PROFILES_DONE":return Object(N.a)({},e,{isFetching:s,profiles:o});case"UPLOAD_AVATAR":return Object(N.a)({},e,{progress:u});case"UPLOAD_AVATAR_FAIL":return Object(N.a)({},e,{progress:u,error:l});case"UPLOAD_AVATAR_DONE":return Object(N.a)({},e,{progress:u,downloadURL:i});default:return e}},wt={error:null,isFetching:!1,isSubmitting:!1,commentItems:{}},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=void 0===r?{}:r,l=n.newComment,c=n.error,o=n.isFetching,s=n.comments,i=n.isSubmitting;switch(a){case"FETCH_COMMENTS_BY_WORK":case"FETCH_COMMENTS_BY_WORK_FAILED":return Object(N.a)({},e,{isFetching:o,error:c});case"FETCH_COMMENTS_BY_WORK_DONE":return Object(N.a)({},e,{isFetching:o,commentItems:s});case"ADD_COMMENT":return Object(N.a)({},e,{isSubmitting:i});case"ADD_COMMENT_FAILED":return Object(N.a)({},e,{error:c,isSubmitting:i});case"ADD_COMMENT_DONE":return Object(N.a)({},e,{error:c,isSubmitting:i,commentItems:Object(N.a)({},e.commentItems,Object(X.a)({},l.id,l))});default:return e}},It={author:null,rating:null,language:null,tag:null,rj:null,title:null,onlyShowWorksWithScript:!1},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,n=void 0===r?{}:r,l=n.filter;switch(a){case"SET_VISIBILITY_FILTER":return Object(N.a)({},e,{},l);default:return e}},Ft=Object(dt.c)({auth:gt,works:Ot,tags:vt,authors:At,authorProfile:_t,comments:kt,visibilityFilter:St}),jt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||dt.d,Tt=Object(dt.e)(Ft,jt(Object(dt.a)(ht.a)));a(478);c.a.render(n.a.createElement(p.a,{store:Tt},n.a.createElement(mt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/soundasm",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/soundasm","/service-worker.js");pt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var r=a.headers.get("content-type");404===a.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Et(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Et(t,e)}))}}()}},[[247,1,2]]]);
//# sourceMappingURL=main.75b84c3a.chunk.js.map